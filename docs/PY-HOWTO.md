# Tink Python HOW-TO
The following presents instructions of coding with Python of [Tink library](https://github.com/google/tink) for Google Pay gateway/processor partners. The sample Python code uses [Java Native Interface (JNI)](https://docs.oracle.com/javase/8/docs/technotes/guides/jni/) to create API bridge allowing Java code to be called by native Python applications.

## 1. Installation
Download and decompress “TinkJNIPython” project. Please also ensure:
-[Python 3](https://www.python.org/downloads/) with pip (Package Installer) is installed (64-bit version for Windows)
- [GCC](https://gcc.gnu.org/install/), [Xcode](https://developer.apple.com/xcode/) Command Line Tools, or other C compiler is installed (depending on your OS)
- [Pyjnius](https://github.com/kivy/pyjnius) package is installed (refer to [documentation](https://pyjnius.readthedocs.org))
- [Java Runtime Environment 8](https://www.oracle.com/technetwork/java/javase/downloads/jre8-downloads-2133155.html) or later is installed

## 2. Modify settings in config.json to fit your environment.
Get package timob/jnigi
```json
{
	"//" : "Protocol Version, ECv1 or ECv2",
	"ProtocolVersion" : "ECv2",

	"//" : "Base64-encoded Google signing key - available at https://payments.developers.google.com/paymentmethodtoken/test/keys.json (for TEST) or https://payments.developers.google.com/paymentmethodtoken/keys.json (for Production)",
	"GoogleSigningKey": "MFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEGnJ7Yo1sX9b4kr4Aa5uq58JRQfzD8bIJXw7WXaap\\/hVE+PnFxvjx4nVxt79SdRuUVeu++HZD0cGAv4IOznc96w==",

	"//" : "Recipient Id format - gateway:<name of your gateway>",
	"RecipientId" : "gateway:<place_your_gateway_name_here>",

	"//" : "Base64-encoded PKCS8 private key generated by gateway - for Production, it is advisable to fetch this key from Hardware Security Module (HSM) or use Environment Variables instead of storing as plain text in config files.",
	"RecipientPrivateKey" : "<place_your_private_key_here>"
}
```
**IMPORTANT NOTES**<br/>
For PRODUCTION environment, it is advisable to fetch the Private Key from Hardware Security Module (HSM) or Environment Variables instead of storing it as plain text in config files.

## 3. Generate a sample token using [Token Generator](https://developers.google.com/pay/api/processors/guides/test-and-validation/token-generator) and place it in the sampleToken variable of `main.py`.

## 4. Run `main.py` and get clear text from the output.

